(this["webpackJsonpreact-learn"]=this["webpackJsonpreact-learn"]||[]).push([[4],{151:function(t,e,n){},420:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"default",(function(){return h}));var o=n(6),a=n(9),r=n(10),i=n(12),c=n(11),l=n(0),s=(n(151),n(152)),d=(n(400),n(401)),u=n.n(d),h=function(e){Object(i.a)(d,e);var l=Object(c.a)(d);function d(e){var o;return Object(a.a)(this,d),(o=l.call(this,e)).openUrl=function(t){t.url&&window.open(t.url,"_blank")},o.getLocalData=function(){n.e(6).then(n.t.bind(null,419,3)).then((function(t){var e=t.default;o.setState({data:e})})).catch((function(t){console.log("error:",t)}))},o.getUrlData=function(){if(!o.state.loading){var e;o.setState({loading:!0});var n=document.location.href.match(/(?<=\/\/).*(?=\.github)/);(n=n&&n.length?n[0]:null)?(e="https://api.github.com/repos/"+n+"/chrome-bookmark/contents/docs/chrome-bookmark.json?ref=master",console.log("getUrl:",e)):(e="https://api.github.com/repos/liqiang-xxfy/chrome-bookmark/contents/docs/chrome-bookmark.json?ref=master",console.log("localUrl:",e)),e=e+"&&time="+(new Date).getTime(),u.a.get(e).then((function(e){if(200!==e.status)throw new Error("no data");var n=e.data.content,a=t.from(n,"base64").toString(),r=JSON.parse(a);o.setState({data:r})})).catch((function(t){console.log("e",t)})).finally((function(){o.setState({loading:!1})}))}},o.delete=function(){o.setState({data:[]})},o.state={data:[],options:{children:"children",label:"title"},loading:!1},o}return Object(r.a)(d,[{key:"componentDidMount",value:function(){this.getUrlData()}},{key:"render",value:function(){var t=this,e=this.state,n=e.data,a=e.options,r=e.loading;return Object(o.jsxs)("div",{className:"home",children:[Object(o.jsxs)("div",{className:"search",children:[Object(o.jsx)(s.Input,{placeholder:"\u8f93\u5165\u5173\u952e\u5b57\u8fdb\u884c\u8fc7\u6ee4",onChange:function(e){return t.tree.filter(e)}}),Object(o.jsx)(s.Button,{onClick:this.getUrlData,children:"\u66f4\u65b0"}),Object(o.jsx)(s.Button,{onClick:this.delete,children:"\u5220\u9664"})]}),Object(o.jsx)(s.Loading,{loading:r,children:Object(o.jsx)(s.Tree,{ref:function(e){return t.tree=e},data:n,highlightCurrent:!0,options:a,nodeKey:"id",indent:25,defaultExpandedKeys:["1"],accordion:!0,onNodeClicked:this.openUrl,filterNodeMethod:function(t,e){return!t||-1!==e.title.indexOf(t)}})})]})}}]),d}(l.Component)}.call(this,n(147).Buffer)}}]);
//# sourceMappingURL=4.ea75833f.chunk.js.map